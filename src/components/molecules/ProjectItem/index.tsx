import { useEffect } from 'react';
import Picture from '../../atoms/Picture';
import Style from './style.module.scss';
import eventBus from '@/assets/scripts/utils/eventBus';

const ProjectItem = (props: { index, title, picture, link }) => {
    const { index, title, picture, link } = props;
    console.log('This is list item picture', picture);

    useEffect(()=>{
       
        setTimeout(()=>{
            eventBus.dispatch('scroll');
        }, 100)
    }, [])
    return (
        <a href={link ? link : "/projects/design"} className={Style.root}>
            <h3 className='do-text-s'>{title ? title : "Lorem ipsum dolor"}</h3>
            <div>
                {picture && <Picture url={picture.asset._ref} widthDesktop={680}
                    heightDesktop={500}
                    widthMobile={300}
                    heightMobile={500}
                    alt={picture.alt} lazy={true} localSize={true}/>}
                    {!picture && (<picture>
                    <img src="https://source.unsplash.com/random/1920Ã—1080" alt="Image de test" />
                </picture>)}
            </div>
            <svg width="46" height="43" viewBox="0 0 46 43" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_139_0)">
                    <path d="M22.9184 12.3202C22.8369 19.2453 28.5461 24.882 35.6418 24.8015H35.3156C28.383 24.882 22.8369 30.5187 22.9184 37.3633V37.2827C22.8369 30.4382 17.2092 24.9625 10.3581 24.882H10.2766C17.2092 24.8015 22.9184 19.2453 22.9184 12.3202Z" fill="white" />
                    <path d="M3.09927 23.5132C1.38651 23.2716 -0.244697 21.7417 -1.63438e-05 19.5675C0.0815439 18.7623 0.407785 18.3596 0.570906 17.4739L3.34396 17.5544C1.38651 17.5544 0.326225 18.4402 0.163104 19.5675C-0.0815766 21.2585 1.38651 22.2248 3.2624 22.4664C5.13828 22.708 6.68793 22.0638 6.93261 20.4533C7.09573 19.3259 6.60637 18.2791 5.54608 17.7154C6.93261 18.3596 7.17729 19.648 7.09573 20.4533C6.85105 22.6274 4.8936 23.6742 3.09927 23.5132Z" fill="white" />
                    <path d="M7.50351 17.6347C7.74819 16.9906 7.25883 16.749 4.81202 15.4606C2.36521 14.1722 1.87585 13.9306 1.46805 14.4943L2.36521 12.8033C2.36521 13.2864 2.77301 13.4475 5.21982 14.7359C7.34039 15.8632 8.07443 16.2658 8.64535 15.219C9.46096 13.6891 8.56379 12.4812 7.66663 11.7565L9.7872 13.4475L7.50351 17.6347Z" fill="white" />
                    <path d="M10.2766 12.9644C10.4397 12.5618 10.0319 12.2397 7.99288 10.3876C5.95388 8.53558 5.62764 8.21348 5.13828 8.45505L6.5248 7.00562C6.117 7.56929 6.5248 7.97191 8.56381 9.74344C10.6028 11.5955 11.0922 11.9176 11.5815 11.515L10.2766 12.9644Z" fill="white" />
                    <path d="M9.78721 8.29401C8.80848 6.84457 8.97161 4.58989 10.8475 3.46255C11.5 3.05993 12.0709 2.9794 12.8049 2.57678L14.5177 4.67042C13.2943 3.14045 11.9078 2.9794 10.9291 3.54307C9.46097 4.42884 9.70565 6.20038 10.6844 7.73034C11.6631 9.2603 13.2127 10.1461 14.5993 9.17978C15.4964 8.61611 16.0673 7.56929 15.8227 6.44195C16.2305 7.89139 15.3333 8.93821 14.6808 9.34083C12.8049 10.6292 10.7659 9.82397 9.78721 8.29401Z" fill="white" />
                    <path d="M17.1276 7.81086C17.7801 7.56929 17.6986 7.08614 17.2092 4.34831C16.7198 1.61049 16.5567 1.12734 15.9042 1.12734L17.8617 0.805243C17.4539 1.04682 17.5354 1.52996 18.1064 4.18727C18.5957 6.84457 18.7588 7.40824 19.1666 7.40824L17.1276 7.81086ZM21.3688 7.00562C19.5744 5.47566 19.0851 4.99251 18.1064 4.10674C19.0035 2.41573 19.5744 1.61049 20.4716 0.322097L22.1028 0C20.7979 0.322097 19.7376 1.52996 18.6773 3.38202C19.8191 4.42884 20.2269 4.83146 21.1241 5.47566C21.8581 6.03933 23 6.76405 24.0603 6.52247L21.3688 7.00562Z" fill="white" />
                    <path d="M31.5638 9.09914L29.6879 8.37442C30.3404 8.53547 30.5851 8.05232 31.5638 5.47554L28.1383 4.18715C27.1596 6.76393 26.9964 7.24708 27.5674 7.56917L25.6915 6.84446C26.1808 6.84446 26.2624 6.36131 27.3227 3.78453C28.3014 1.20775 28.4645 0.80513 28.1383 0.483032L30.0142 1.20775C29.3617 1.0467 29.117 1.52985 28.2198 4.0261L31.6454 5.31449C32.6241 2.81824 32.7057 2.33509 32.1347 2.01299L34.0106 2.73771C33.5213 2.73771 33.3581 3.22086 32.3794 5.79764C31.4007 8.37442 31.2376 8.85756 31.5638 9.09914Z" fill="white" />
                    <path d="M35.1525 7.73038C37.0283 5.71727 37.4361 5.31465 36.9468 4.75098L40.2092 7.8109L39.0674 9.42139C39.8014 8.29405 39.4752 7.32776 38.578 6.44199L38.0886 6.03937C37.6808 6.36146 37.0283 6.92513 35.8865 8.133L36.7837 9.01877C37.3546 9.50191 37.9255 9.26034 38.6596 8.53562L36.3759 10.9514C37.1099 10.2266 37.1915 9.58244 36.7021 9.09929L35.8049 8.21352C34.2553 9.82401 33.8475 10.4682 33.6844 10.7903L33.9291 11.0319C35.3156 12.3203 36.539 12.4008 37.6808 11.4345L35.8865 13.045L32.2979 9.74349C32.7872 10.1461 33.195 9.74349 35.1525 7.73038Z" fill="white" />
                    <path d="M36.2943 13.6891C36.7021 14.2528 37.1915 14.0112 39.7198 12.8033C42.2482 11.5955 42.7376 11.3539 42.4929 10.7097L43.6347 13.1254C44.2872 14.4944 43.8794 15.6217 43.0638 16.0243C42.0035 16.5075 40.7801 15.8633 40.2908 14.7359C40.617 15.3801 40.4539 16.2659 40.1276 16.8296C39.1489 18.6816 38.9042 18.8427 39.5567 20.2116L38.3333 17.7153C39.5567 16.1854 40.2908 14.7359 39.883 13.8502C40.5354 15.058 41.5957 15.5412 42.7376 14.9775C43.4716 14.5749 43.961 13.7696 43.4716 12.8033C43.3085 12.5618 43.1454 12.3202 42.9823 12.2397C42.7376 12.3202 41.7589 12.7228 41.1064 13.0449L40.1276 13.5281C37.5993 14.7359 37.1099 15.058 37.5177 16.0243L36.2943 13.6891Z" fill="white" />
                    <path d="M42.2482 19.6479C45.0213 19.4064 45.5922 19.3258 45.5922 18.6816L46 23.1105L44.0425 23.5936C45.3475 23.2715 45.7553 22.3052 45.6737 21.0168V20.3727C45.1844 20.2921 44.2872 20.3727 42.5745 20.4532L42.656 21.7416C42.7376 22.4663 43.3085 22.7079 44.3688 22.6273L41.0248 22.9494C42.0851 22.8689 42.5745 22.4663 42.4929 21.8221L42.4113 20.5337C40.1276 20.6947 39.3936 20.9363 39.1489 21.0168V21.3389C39.312 23.191 40.2092 24.0768 41.5957 24.1573H39.1489L38.7411 19.3258C38.9858 19.97 39.5567 19.8895 42.2482 19.6479Z" fill="white" />
                    <path d="M42.2482 27.5394C40.1276 36.1555 32.2978 42.5975 22.9184 42.5975C13.539 42.5975 5.70919 36.1555 3.58862 27.5394H3.18082C5.30138 36.3971 13.3759 43.0001 22.9184 43.0001C32.461 43.0001 40.5354 36.3971 42.656 27.5394H42.2482Z" fill="white" />
                </g>
                <defs>
                    <clipPath id="clip0_139_0">
                        <rect width="46" height="43" fill="white" />
                    </clipPath>
                </defs>
            </svg>

        </a>
    )
}

export default ProjectItem;